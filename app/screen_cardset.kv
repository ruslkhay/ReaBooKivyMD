<CardListItem>:

    # size_hint_y: .4
    height: 200
    # minimum_height:20
    id: root.card_id
    # divider: True
    # divider_color: "red"

    MDListItemLeadingAvatar:
        source: root.image
        # on_release: print(root.image)
    MDListItemHeadlineText:
        text: root.word
    MDListItemSupportingText:
        text: root.meaning
 

<CardsListScreen>:

    name: "Cards"
    md_bg_color: self.theme_cls.backgroundColor
    MDBoxLayout:
        orientation: "vertical"
        # SCROLLABLE LIST OF CARDS.
        MDScrollView:
            do_scroll_x: False
            MDBoxLayout:
                id: container 
                orientation: "vertical"
                # height: 100
                adaptive_height: True
        # LAYOUT FOR EDITIONAL "ADD" AND "SEARCH" WIDGETS
        MDBoxLayout:
            md_bg_color: (0,0,0,1)
            size_hint_y: 0.15
            orientation: "horizontal"
            MDRelativeLayout:
                md_bg_color: (0,1,0,.3)
                MDTextField:
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                    mode: "filled"
                    size_hint_x: 0.85
                    input_type: "text"
                    keyboard_suggestions: True
                    MDTextFieldLeadingIcon:
                        icon: "text-search-variant"
                    MDTextFieldHintText:
                        text: "Search card"
            MDAnchorLayout:
                size_hint_x: .5
                anchor_x: "center"
                # "ADD" BUTTON
                MDIconButton:
                    style: "filled"
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                    on_release: 
                        root.open_item()
                        # root.add_item()
                    icon: "plus"


<TextFieldCard@MDTextField>
    

<CardScreen>:
    name: "Card"
    BoxLayout:
        orientation: "vertical"
        # Placeholder for image
        padding: "16dp" 
        MDRelativeLayout: 
            md_bg_color: (0.5,0,0,0.5)
            size_hint_y: 0.25

            MDCard:
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                background: root.image
                size_hint: .8, .8
                width: self.height
                on_release: print(root.image)
            MDIconButton:
                pos_hint: {'right': 1,'top': 1}
                icon: 'close-thick'
                on_release: root.close()

        # Placeholder for textfields
        MDBoxLayout:
            size_hint_y: 0.6
            orientation: "vertical"
            md_bg_color: (0,0.5,0,.5)
            MDBoxLayout:
                orientation: "vertical"
                AnchorLayout:
                    anchor_x: "center"
                    anchor_y: "center"
                    MDTextField:
                        id: word
                        size_hint_x: 0.7
                        mode: "filled"
                        text: root.word
                        on_text: root.word = self.text
                        required: True
                        MDTextFieldHintText:
                        # MDTextFieldHintText:
                            text: "Word"  
                            # mode: "persistent"
                        # MDTextFieldHelperText:
                        #     text: "Type ..."  #app._("Type a new word")
                AnchorLayout:
                    anchor_x: "center"
                    anchor_y: "center"
                    MDTextField:
                        id: transition 
                        size_hint_x: 0.7
                        mode: "filled"
                        required: True
                        text: root.meaning
                        on_text: root.meaning = self.text
                        MDTextFieldHintText:
                            text: "Meaning"  
                        # MDTextFieldHelperText:
                        #     text: "Type ..."  #app._("Type a new word")
            AnchorLayout:
                anchor_x: "center"
                anchor_y: "top"
                MDTextField:
                    id: example 
                    size_hint_x: 0.7
                    # adaptive_height: True
                    mode: "filled"
                    text: root.example
                    on_text: root.example = self.text
                    max_height: root.height
                    # max_height: self.parent.height
                    multiline: True
                    on_error: print(self.text[-1]) # self.input_filter = del
                    MDTextFieldMaxLengthText:
                        max_text_length: 256 # + self.font_size
                    MDTextFieldHelperText:
                        text: "Example" # + str(self.font_size) 
        # Placeholder for controll buttons
        MDBoxLayout:
            # id: buttons
            size_hint_y: 0.15
            md_bg_color: (0,0,0.5,0.5)
            MDAnchorLayout:
                anchor_x: "center"
                anchor_y: "center"
                MDButton:
                    id: button_delete
                    style: "filled"
                    on_release: root.delete()
                    MDButtonText:
                        text: "Delete"

            MDAnchorLayout:
                anchor_x: "center"
                anchor_y: "center"
                MDButton:
                    style: "filled"
                    on_release: root.save()
                    MDButtonText:
                        text: "Save"


<FlashCard>:
    size_hint:  0.8, 0.8
    pos_hint: {'center_x': 0.5,'center_y': 0.5}
    orientation: "vertical"
    style: "elevated"
    padding: "20dp"
    word: ""
    meaning: ""
    on_release: self.open_meaning()

    MDAnchorLayout:
        # md_bg_color: (0.5,0,0,0.5)
        anchor_x: "center"
        anchor_y: "center"
        Image:
            source: "data/fill_image_placeholder.png"
            fit_mode: "fill"
            size_hint: .8, .8

            pos_hint: {'center_x': 0.5,'center_y': 0.5}
    MDRelativeLayout:
        # md_bg_color: (0.5,0,0,0.5)
        MDLabel:
            pos_hint: {'center_x': 0.5,'center_y': 0.7}
            text: root.word
            halign: "center"
            font_style: "Headline"
            role: "small"
        MDLabel:
            pos_hint: {'center_x': 0.5,'center_y': 0.4}
            text: root.meaning
            halign: "center"
            font_style: "Title"
            # text_color: root.md_bg_color
            role: "small"
        # MDIconButton:
        #     pos_hint: {'center_x': 0.5,'center_y': 0.1}
        #     md_bg_color: (0,0,0,1)
        #     icon: 'eye'